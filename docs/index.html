<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVE Model Viewer</title>
    <link rel="icon" type="image/png" href="./Shiptree.png">
    <link rel="shortcut icon" type="image/png" href="./Shiptree.png">
    <link rel="apple-touch-icon" href="./Shiptree.png">
    <script>
        self.ModelViewerElement = self.ModelViewerElement || {};
        self.ModelViewerElement.meshoptDecoderLocation = './js/meshopt_decoder.js';
    </script>

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p class="loading-text" id="loadingText"></p>
    </div>

    <div class="glass-frame" id="dropZone" style="display: none;">
        <div class="inner-content">
            <div class="sidebar" id="sidebar">
                <div class="sidebar-resizer" id="sidebarResizer"></div>
                <div class="search-box" id="searchBox">
                    <input type="text" id="searchInput" placeholder="" autocomplete="off">
                </div>
                <div class="breadcrumb" id="breadcrumb"></div>
                <div class="nav-content" id="navContent"></div>
            </div>

            <div class="model-viewer-container">
                <button class="ship-name-display" id="shipNameDisplay"></button>
                <div class="content-main">
                <div class="upload-ui" id="uploadUI">
                    <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                    </svg>
                    <p class="hint" id="hintText"></p>
                    <div class="info-text-container" id="infoTextContainer">
                        <p class="info-text" id="infoText1"></p>
                        <p class="info-text" id="infoText2"></p>
                        <p class="info-text" id="infoText3"></p>
                    </div>
                    <button class="theme-toggle-btn" id="themeToggleBtnHome">
                        <svg class="theme-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <defs>
                                <clipPath id="leftHalf">
                                    <rect x="0" y="0" width="12" height="24"/>
                                </clipPath>
                                <clipPath id="rightHalf">
                                    <rect x="12" y="0" width="12" height="24"/>
                                </clipPath>
                            </defs>
                            <circle cx="12" cy="12" r="10" fill="currentColor" clip-path="url(#leftHalf)" class="theme-icon-left"></circle>
                            <circle cx="12" cy="12" r="10" fill="white" clip-path="url(#rightHalf)" class="theme-icon-right"></circle>
                        </svg>
                    </button>
                </div>

                <div class="model-loading-spinner" id="modelLoadingSpinner">
                    <div class="model-spinner-wrapper">
                        <div class="model-spinner"></div>
                        <div class="model-loading-progress" id="modelLoadingProgress">0%</div>
                    </div>
                </div>

                <model-viewer
                    id="modelViewer"
                    src=""
                    camera-controls
                    auto-rotate
                    auto-rotate-speed="10deg"
                    camera-orbit="45deg auto auto"
                    interaction-prompt="none"
                    shadow-intensity="1"
                    environment-image="neutral"
                    exposure="1">
                </model-viewer>

                <div class="error-tag" id="errorTag"></div>
                <div class="action-toast" id="actionToast"></div>

                <div class="brightness-control" id="brightnessControl">
                    <svg class="control-icon" id="autoRotateToggleIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" title="关闭/开启自动旋转">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <input type="range" class="brightness-slider" id="brightnessSlider" min="0.5" max="3" step="0.5" value="1">
                    <svg class="control-icon" id="resetViewIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" title="重置视角">
                        <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.85.83 6.72 2.24"></path>
                        <polyline points="21 3 21 8 16 8"></polyline>
                    </svg>
                    <svg class="control-icon" id="shadowToggleIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" title="切换阴影">
                        <path d="M12 2v2M12 20v2M4 12H2M6.314 6.314L4.9 4.9M17.686 6.314L19.1 4.9M6.314 17.686L4.9 19.1M17.686 17.686L19.1 19.1M22 12h-2"></path>
                        <circle cx="12" cy="12" r="4"></circle>
                        <path d="M12 8v8M8 12h8" opacity="0.5"></path>
                    </svg>
                    <svg class="control-icon" id="themeToggleIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" title="切换主题">
                        <defs>
                            <clipPath id="leftHalfIcon">
                                <rect x="0" y="0" width="12" height="24"/>
                            </clipPath>
                            <clipPath id="rightHalfIcon">
                                <rect x="12" y="0" width="12" height="24"/>
                            </clipPath>
                        </defs>
                        <circle cx="12" cy="12" r="10" fill="currentColor" clip-path="url(#leftHalfIcon)" class="theme-icon-left"></circle>
                        <circle cx="12" cy="12" r="10" fill="white" clip-path="url(#rightHalfIcon)" class="theme-icon-right"></circle>
                    </svg>
                </div>
                </div>
            </div>

            <div class="bottom-panel" id="bottomPanel">
                <button class="model-selector-btn" id="modelSelectorBtn">
                    <span id="modelSelectorBtnText">选择模型</span>
                </button>
            </div>

            <div class="drawer-overlay" id="drawerOverlay"></div>
            <div class="drawer-panel" id="drawerPanel">
                <div class="drawer-header">
                    <button class="drawer-close-btn" id="drawerCloseBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="drawer-content">
                    <div class="search-box" id="searchBoxMobile">
                        <input type="text" id="searchInputMobile" placeholder="" autocomplete="off">
                    </div>
                    <div class="breadcrumb" id="breadcrumbMobile"></div>
                    <div class="nav-content" id="navContentMobile"></div>
                </div>
            </div>
        </div>
    </div>

    <footer class="copyright-footer">
        <p>EVE Online and the EVE logo are the registered trademarks of CCP hf. All rights are reserved worldwide. All other trademarks are the property of their respective owners. EVE Online, the EVE logo, EVE and all associated logos and designs are the intellectual property of CCP hf. All artwork, screenshots, characters, vehicles, storylines, world facts or other recognizable features of the intellectual property relating to these trademarks are likewise the intellectual property of CCP hf. </p>
    </footer>

    <script src="./js/main.js"></script>
</body>
</html>